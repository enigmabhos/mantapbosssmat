<!DOCTYPE html>
<html lang="id">

<head>
    <meta charset="UTF-8">
    <title>Auto Request Generator</title>
    <style>
        body {
            font-family: 'Segoe UI', sans-serif;
            background-color: #121212;
            color: #00ffcc;
            padding: 20px;
        }

        input,
        button {
            padding: 8px 12px;
            margin-top: 10px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
        }

        input {
            background: #222;
            color: #0f0;
            width: 100px;
        }

        button {
            background: #1e1e1e;
            color: white;
            cursor: pointer;
            margin-right: 5px;
        }

        button:hover {
            background: #333;
        }

        .card {
            background: #1a1a1a;
            padding: 10px 15px;
            margin-top: 10px;
            border-left: 5px solid #00ffcc;
            border-radius: 6px;
            color: white;
        }

        .success {
            border-color: #00ff00;
        }

        .failed {
            border-color: #ff4444;
        }

        #logContainer {
            max-height: 300px;
            overflow-y: auto;
            margin-top: 15px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin-top: 10px;
        }

        .stat-item {
            background: #1a1a1a;
            padding: 8px 12px;
            border-radius: 4px;
            border-left: 3px solid #00ffcc;
        }

        .stat-value {
            font-weight: bold;
            color: #00ff00;
        }

        .running {
            color: #00ff00;
        }

        .stopped {
            color: #ff4444;
        }
    </style>
</head>

<body>
    <h2>‚öôÔ∏è Auto Request Generator</h2>
    <label>‚è± Delay antar request (ms):</label>
    <input type="number" id="delayInput" value="100" min="0"><br>
    <button onclick="start()">üü¢ Start</button>
    <button onclick="stop()">üî¥ Stop</button>
    <p id="statusLog">üïì Menunggu perintah...</p>

    <div id="stats" style="margin-top: 10px; line-height: 1.6;">
        <div class="stats-grid">
            <div class="stat-item">
                <div>Total Requests: <span id="total" class="stat-value">0</span></div>
            </div>
            <div class="stat-item">
                <div>‚úÖ Success: <span id="success" class="stat-value">0</span></div>
            </div>
            <div class="stat-item">
                <div>‚ùå Failed: <span id="failed" class="stat-value">0</span></div>
            </div>
            <div class="stat-item">
                <div>‚úÖ Success Rate: <span id="successRate" class="stat-value">0%</span></div>
            </div>
            <div class="stat-item">
                <div>‚ùå Failed Rate: <span id="failedRate" class="stat-value">0%</span></div>
            </div>
            <div class="stat-item">
                <div>‚ö° Avg Response Time: <span id="avgResponseTime" class="stat-value">0ms</span></div>
            </div>
            <div class="stat-item">
                <div>üïí Last Response Time: <span id="lastResponseTime" class="stat-value">0ms</span></div>
            </div>
            <div class="stat-item">
                <div>‚è± Elapsed Time: <span id="elapsedTime" class="stat-value">0s</span></div>
            </div>
            <div class="stat-item">
                <div>üë§ Last Username: <span id="lastUsername" class="stat-value">-</span></div>
            </div>
            <div class="stat-item">
                <div>üîó Last URL: <span id="lastUrl" class="stat-value">-</span></div>
            </div>
            <div class="stat-item" style="grid-column: 1 / -1;">
                <div>Status Request: <span id="requestStatus" class="stat-value stopped">üî¥ Request stopped</span></div>
            </div>
        </div>
    </div>

    <div id="logContainer"></div>

    <script>
        let intervalId = null;
        let totalRequests = 0;
        let successCount = 0;
        let failedCount = 0;
        let totalResponseTime = 0;
        let lastResponseTime = 0;
        let startTime = null;
        let elapsedInterval = null;
        let lastUsername = '-';
        let lastUrl = '-';

        function updateStats() {
            document.getElementById("total").innerText = totalRequests;
            document.getElementById("success").innerText = successCount;
            document.getElementById("failed").innerText = failedCount;

            const successRate = totalRequests > 0 ? ((successCount / totalRequests) * 100).toFixed(1) : 0;
            const failedRate = totalRequests > 0 ? ((failedCount / totalRequests) * 100).toFixed(1) : 0;
            const avgResponseTime = totalRequests > 0 ? Math.round(totalResponseTime / totalRequests) : 0;

            document.getElementById("successRate").innerText = `${successRate}%`;
            document.getElementById("failedRate").innerText = `${failedRate}%`;
            document.getElementById("avgResponseTime").innerText = `${avgResponseTime}ms`;
            document.getElementById("lastResponseTime").innerText = `${lastResponseTime}ms`;
            document.getElementById("lastUsername").innerText = lastUsername;
            document.getElementById("lastUrl").innerText = lastUrl.length > 50 ? lastUrl.substring(0, 50) + '...' : lastUrl;
        }

        function updateElapsedTime() {
            if (startTime) {
                const elapsed = Math.floor((Date.now() - startTime) / 1000);
                document.getElementById("elapsedTime").innerText = `${elapsed}s`;
            }
        }

        function generateRandomUsername() {
            const prefix = [
                // Original prefixes
                "aku", "si", "the", "dark", "super", "ultra", "om", "pak", "bang", "ratu", "nona",

                // Indonesian titles/honorifics
                "mas", "mbak", "kakak", "adik", "bude", "uwak", "tante", "paman", "nenek", "kakek",
                "bapak", "ibu", "abang", "kakang", "dek", "kang", "nyai", "kyai", "haji", "hajah",

                // Gaming/cool prefixes
                "pro", "noob", "epic", "mega", "hyper", "turbo", "cyber", "shadow", "ghost", "ninja",
                "master", "lord", "king", "queen", "prince", "boss", "chief", "commander", "captain",
                "legend", "immortal", "divine", "mystic", "cosmic", "quantum", "atomic", "nuclear",

                // Colors in Indonesian
                "merah", "biru", "hijau", "kuning", "hitam", "putih", "ungu", "orange", "pink", "abu",

                // Animals in Indonesian
                "kucing", "anjing", "burung", "ikan", "naga", "harimau", "singa", "elang", "ular", "kuda",
                "gajah", "monyet", "kerbau", "ayam", "bebek", "kambing", "sapi", "domba", "kelinci",

                // Elements/Nature
                "api", "air", "tanah", "angin", "petir", "kilat", "guntur", "hujan", "salju", "es",
                "batu", "logam", "kayu", "daun", "bunga", "pohon", "gunung", "laut", "sungai",

                // Technology/Modern
                "cyber", "digital", "virtual", "online", "web", "net", "tech", "bot", "ai", "robot",
                "data", "code", "hack", "pixel", "byte", "wifi", "nano", "micro", "macro",

                // Emotions/Characteristics
                "keren", "ganteng", "cantik", "pintar", "cerdas", "kuat", "berani", "hebat", "jagoan",
                "gahar", "brutal", "sadis", "gentle", "baik", "ramah", "cool", "hot", "fresh",

                // Mythical/Fantasy
                "dewa", "dewi", "malaikat", "iblis", "jin", "raksasa", "peri", "unicorn", "phoenix",
                "dragon", "titan", "god", "goddess", "angel", "demon", "spirit", "soul",

                // Time/Speed
                "cepat", "kilat", "lambat", "lama", "baru", "tua", "muda", "pagi", "siang", "malam",
                "dini", "akhir", "awal", "tengah", "speed", "slow", "fast", "quick", "rapid",

                // Numbers/Math
                "satu", "dua", "tiga", "empat", "lima", "enam", "tujuh", "delapan", "sembilan", "sepuluh",
                "ratus", "ribu", "juta", "milyar", "infinity", "zero", "double", "triple", "quad",

                // Gaming terms
                "player", "gamer", "streamer", "youtuber", "tiktoker", "blogger", "vlogger", "content",
                "subscriber", "follower", "viewer", "fan", "hater", "lover", "fighter", "warrior"
            ];

            const suffix = [
                // Original suffixes
                "hitam", "merah", "kucing", "shadow", "sultan", "naga", "petir", "bot", "cepat", "legend",

                // Colors
                "biru", "hijau", "kuning", "putih", "ungu", "orange", "pink", "abu", "emas", "perak",
                "coklat", "cream", "violet", "indigo", "cyan", "magenta", "bronze", "platinum",

                // Animals
                "harimau", "singa", "elang", "ular", "kuda", "gajah", "monyet", "serigala", "beruang",
                "rusa", "kelinci", "ayam", "bebek", "ikan", "lumba", "paus", "hiu", "burung", "gagak",
                "merpati", "rajawali", "kobra", "python", "cheetah", "leopard", "panther", "lion",

                // Elements/Nature
                "api", "air", "angin", "tanah", "es", "salju", "hujan", "badai", "topan", "gempa",
                "vulkan", "lava", "kristal", "berlian", "batu", "besi", "baja", "titanium", "plasma",
                "laser", "thunder", "storm", "blizzard", "tornado", "tsunami", "meteor", "comet",

                // Weapons/Combat
                "pedang", "pisau", "panah", "tombak", "kapak", "palu", "cambuk", "katana", "samurai",
                "ninja", "blade", "sword", "dagger", "spear", "hammer", "axe", "bow", "gun", "rifle",
                "cannon", "missile", "bomb", "grenade", "destroyer", "killer", "slayer", "hunter",

                // Gaming/Tech
                "gamer", "player", "hacker", "coder", "programmer", "developer", "designer", "creator",
                "builder", "maker", "crafter", "miner", "farmer", "trader", "warrior", "mage", "archer",
                "tank", "healer", "support", "carry", "jungler", "mid", "top", "adc", "support",

                // Titles/Ranks
                "master", "lord", "king", "prince", "duke", "baron", "knight", "paladin", "crusader",
                "champion", "hero", "villain", "boss", "chief", "captain", "general", "admiral",
                "commander", "sergeant", "rookie", "veteran", "elite", "pro", "noob", "newbie",

                // Mythical/Fantasy
                "dragon", "phoenix", "unicorn", "griffin", "kraken", "hydra", "sphinx", "minotaur",
                "centaur", "pegasus", "demon", "angel", "spirit", "ghost", "phantom", "wraith",
                "vampire", "werewolf", "zombie", "witch", "wizard", "sorcerer", "warlock", "shaman",

                // Characteristics/Adjectives
                "kuat", "lemah", "pintar", "bodoh", "cepat", "lambat", "besar", "kecil", "tinggi", "pendek",
                "ganteng", "jelek", "cantik", "buruk", "baik", "jahat", "berani", "penakut", "rajin", "malas",
                "keren", "norak", "gaul", "jadul", "modern", "klasik", "epic", "fail", "win", "lose",

                // Time/Age
                "muda", "tua", "baru", "lama", "pagi", "siang", "sore", "malam", "dini", "akhir",
                "awal", "tengah", "kemarin", "besok", "sekarang", "dulu", "nanti", "Ê∞∏Ëøú", "forever",

                // Numbers
                "satu", "dua", "tiga", "empat", "lima", "enam", "tujuh", "delapan", "sembilan", "sepuluh",
                "sebelas", "duabelas", "tigabelas", "empat belas", "limabelas", "ratus", "ribu", "juta",
                "milyar", "trillion", "infinity", "zero", "double", "triple", "quad", "penta", "hexa",

                // Body parts
                "mata", "hidung", "mulut", "telinga", "tangan", "kaki", "kepala", "rambut", "gigi",
                "lidah", "jari", "kuku", "kulit", "tulang", "otot", "jantung", "otak", "soul", "heart",

                // Food/Drink
                "nasi", "mie", "roti", "kue", "permen", "coklat", "kopi", "teh", "susu", "jus",
                "pizza", "burger", "sushi", "curry", "soup", "salad", "cake", "cookie", "candy",

                // Places
                "kota", "desa", "gunung", "laut", "sungai", "danau", "hutan", "padang", "pantai", "pulau",
                "benua", "planet", "bintang", "galaxy", "universe", "dimension", "realm", "kingdom",
                "empire", "nation", "world", "earth", "heaven", "hell", "paradise", "wasteland",

                // Emotions
                "senang", "sedih", "marah", "takut", "benci", "cinta", "rindu", "kangen", "bangga",
                "malu", "kecewa", "surprised", "shocked", "amazed", "confused", "worried", "excited",

                // Internet/Social Media
                "viral", "trending", "famous", "popular", "subscriber", "follower", "like", "comment",
                "share", "upload", "download", "stream", "live", "offline", "online", "digital",

                // Random cool suffixes
                "x", "z", "v", "killer", "destroyer", "slayer", "breaker", "maker", "hunter", "seeker",
                "finder", "keeper", "guardian", "protector", "defender", "attacker", "striker", "fighter",
                "rider", "walker", "runner", "jumper", "flyer", "swimmer", "climber", "crawler"
            ];
            const selectedPrefix = prefix[Math.floor(Math.random() * prefix.length)];
            const selectedSuffix = suffix[Math.floor(Math.random() * suffix.length)];

            return selectedPrefix + selectedSuffix;
        }

        function sendRequest() {
            const username = generateRandomUsername();
            const url = `https://free-panel-matzzxz.vercel.app/api/pterodactyl/create?username=${username}`;
            const requestStartTime = Date.now();

            // Update last username and URL immediately
            lastUsername = username;
            lastUrl = url;

            fetch(url)
                .then(response => {
                    const responseTime = Date.now() - requestStartTime;
                    lastResponseTime = responseTime;
                    totalResponseTime += responseTime;

                    return response.json();
                })
                .then(data => {
                    totalRequests++;

                    const resultStr = JSON.stringify(data).toLowerCase();
                    const isSuccess = resultStr.includes("success") || resultStr.includes("created") || data?.status;

                    if (isSuccess) {
                        successCount++;
                    } else {
                        failedCount++;
                    }

                    // Update statistics
                    updateStats();

                    const logCard = document.createElement('div');
                    logCard.className = `card ${isSuccess ? 'success' : 'failed'}`;

                    let logText = `${isSuccess ? '‚úÖ SUCCESS' : '‚ùå FAILED'} ‚Üí ${username} (${lastResponseTime}ms)`;

                    // Tambahkan blok JSON jika status true
                    if (isSuccess && data?.result) {
                        const formatted = JSON.stringify(data, null, 2); // format biar rapi
                        const pre = document.createElement('pre');
                        pre.style.color = '#ccc';
                        pre.style.marginTop = '6px';
                        pre.style.fontSize = '13px';
                        pre.innerText = formatted;

                        logCard.innerText = logText;
                        logCard.appendChild(pre);
                    } else {
                        logCard.innerText = logText;
                    }

                    document.getElementById("logContainer").prepend(logCard);
                    document.getElementById("statusLog").innerText = `Terkirim: ${url}`;
                })
                .catch(error => {
                    totalRequests++;
                    failedCount++;

                    const responseTime = Date.now() - requestStartTime;
                    lastResponseTime = responseTime;
                    totalResponseTime += responseTime;

                    // Update statistics
                    updateStats();

                    const logCard = document.createElement('div');
                    logCard.className = "card failed";
                    logCard.innerText = `‚ùå ERROR ‚Üí ${username} (${lastResponseTime}ms) | ${error.message}`;

                    document.getElementById("logContainer").prepend(logCard);
                    document.getElementById("statusLog").innerText = `Gagal: ${url}`;
                });
        }

        function start() {
            const delay = parseInt(document.getElementById("delayInput").value);
            if (intervalId) clearInterval(intervalId);
            if (elapsedInterval) clearInterval(elapsedInterval);

            // Reset start time and begin elapsed time tracking
            startTime = Date.now();
            elapsedInterval = setInterval(updateElapsedTime, 1000);

            intervalId = setInterval(sendRequest, Math.max(0, delay));

            // Update status
            const statusElement = document.getElementById("requestStatus");
            statusElement.innerText = "üü¢ Request running";
            statusElement.className = "stat-value running";

            document.getElementById("statusLog").innerText = `‚ñ∂Ô∏è Dimulai dengan delay ${delay}ms...`;
        }

        function stop() {
            clearInterval(intervalId);
            clearInterval(elapsedInterval);
            intervalId = null;
            elapsedInterval = null;

            // Update status
            const statusElement = document.getElementById("requestStatus");
            statusElement.innerText = "üî¥ Request stopped";
            statusElement.className = "stat-value stopped";

            document.getElementById("statusLog").innerText = "‚õî Dihentikan.";
        }

        // Initialize stats on page load
        updateStats();
    </script>
</body>

</html>
